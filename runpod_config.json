{
  "description": "Sample RunPod test payload for document extraction worker",
  "test_payload": {
    "input": {
      "files": [
        {
          "filename": "invoice.pdf",
          "data": "base64_encoded_pdf_data_here"
        }
      ],
      "fields": [
        {
          "name": "invoice_number",
          "description": "The invoice number"
        },
        {
          "name": "invoice_date",
          "description": "Date of the invoice"
        },
        {
          "name": "invoice_amount",
          "description": "Total amount of the invoice"
        },
        {
          "name": "seller_name",
          "description": "Name of the seller/vendor"
        },
        {
          "name": "buyer_name",
          "description": "Name of the buyer/customer"
        }
      ],
      "tables": [
        {
          "name": "line_items",
          "description": "Table containing individual line items with description, quantity, price, etc."
        }
      ],
      "max_img_size": 1024,
      "model_name": "hosted_vllm/Qwen/Qwen2.5-VL-3B-Instruct"
    }
  },
  "expected_response": {
    "success": true,
    "fields": [
      {
        "fields": "invoice_number",
        "answer": "INV-2024-001",
        "confidence": "High",
        "document_index": 0
      },
      {
        "fields": "invoice_date",
        "answer": "2024-01-15",
        "confidence": "High",
        "document_index": 0
      },
      {
        "fields": "invoice_amount",
        "answer": "$1,234.56",
        "confidence": "High",
        "document_index": 0
      },
      {
        "fields": "seller_name",
        "answer": "Acme Corporation",
        "confidence": "High",
        "document_index": 0
      },
      {
        "fields": "buyer_name",
        "answer": "Widget Industries",
        "confidence": "High",
        "document_index": 0
      }
    ],
    "tables": [
      {
        "description": "Widget A",
        "quantity": "10",
        "price": "$50.00",
        "total": "$500.00"
      },
      {
        "description": "Widget B",
        "quantity": "5",
        "price": "$100.00",
        "total": "$500.00"
      }
    ],
    "metadata": {
      "num_documents": 1,
      "num_fields": 5,
      "num_tables": 1,
      "model_used": "hosted_vllm/Qwen/Qwen2.5-VL-3B-Instruct"
    }
  },
  "environment_variables": {
    "MODEL_NAME": "Qwen/Qwen2.5-VL-3B-Instruct",
    "VLM_PORT": "8000",
    "MAX_MODEL_LEN": "15000",
    "GPU_MEMORY_UTIL": "0.98",
    "MAX_NUM_IMGS": "5",
    "API_KEY": "EMPTY"
  },
  "notes": {
    "file_encoding": "Files should be base64 encoded. For PDFs, you can use: base64.b64encode(open('file.pdf', 'rb').read()).decode('utf-8')",
    "multiple_files": "You can send multiple files in the 'files' array. Each will be processed and results will include a 'document_index' field.",
    "fields_optional": "Either 'fields' or 'tables' or both must be provided, but not both empty.",
    "model_override": "You can override the default model by providing 'model_name' in the input.",
    "error_handling": "Errors will return success: false with error details in the 'error' field."
  },
  "testing_instructions": {
    "local_test": "To test locally, run: python worker.py (requires model server to be running)",
    "runpod_test": "Use RunPod's test endpoint to send the test payload",
    "curl_example": "curl -X POST https://api.runpod.ai/v2/{ENDPOINT_ID}/run -H 'Authorization: Bearer YOUR_API_KEY' -H 'Content-Type: application/json' -d @test_payload.json"
  }
}
